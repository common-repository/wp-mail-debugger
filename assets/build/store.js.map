{"version":3,"file":"store.js","mappings":"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xC,OAAOA,KAAK,CAACF,aAAa;AAC3B;;;;;;;;;;AC1IA;;AAEA;;AAEA,MAAM,KAA4B;AAClC,+EAA+E,oCAAO,UAAU;AAAA;AAAA;AAAA;AAAA,kGAAC;AACjG;;AAEA,CAAC;AACD;AACA,sBAAsB,8BAA8B,SAAS;AAC7D;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA,oBAAoB,sBAAsB;;AAE1C;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,SAAS,IAAI;AACb;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,OAAO,IAAI;;AAEX;AACA,8CAA8C;AAC9C,OAAO;;AAEP;AACA;AACA;;AAEA,CAAC;;;;;;;;;;;;;;;;AC1FY;;AAEb;;AAEA;AACA;AACA;AACA,UAAU;AACV;AACA;;AAEA;AACA;AACA;AACA,UAAU;AACV;AACA;;AAEA;AACA;AACA;AACA,WAAW,GAAG;AACd;AACA,YAAY,OAAO;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd;AACA,YAAY,SAAS;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAY,QAAQ;AACpB;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB;AACA,YAAY,SAAS;AACrB;AACA;AACA;;AAEA;AACA;AACA;;AAEA,sBAAsB,cAAc;AACpC;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,UAAU;AACrB,WAAW,UAAU;AACrB;AACA;AACA;AACA,YAAY,UAAU;AACtB;AACA,6BAAe,oCAAU;AACzB;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa,kBAAkB;AAC/B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,OAAO;AACnB;AACA,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;;AAEA,eAAe,uBAAuB;AACtC;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAY,QAAQ;AACpB,YAAY,QAAQ;AACpB;AACA,aAAa,GAAG;AAChB;AACA;AACA;AACA;;AAEA;AACA;AACA,eAAe,SAAS;AACxB;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;;;;;;;;;;;ACjRA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;UCAA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCtBA;WACA;WACA;WACA;WACA;WACA,iCAAiC,WAAW;WAC5C;WACA;;;;;WCPA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA;;;;;WCAA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;;;;;;;;;;;;;;;;;;ACNA;AACA;AACA;AAC6D;AACO;;AAEpE;AACA;AACA;AACsC;AACG;AACE;AACI;AACA;AACC;AAEhDmC,yDAAQ,CACPC,iEAAgB,CAAErH,yDAAU,EAAE;EAC7BqB,QAAQ,EAAE;IACT,GAAGA,wDAAQ;IACX,GAAGiG,8DAAYA;EAChB,CAAC;EACDC,OAAO;EACPC,SAAS;EACTC,SAAS;EACTvC,OAAOA,wDAAAA;AACR,CAAE,CACH,CAAC,C","sources":["webpack://wp-mail-debugger/./assets/entries/shared/constants.js","webpack://wp-mail-debugger/./assets/entries/shared/controls.js","webpack://wp-mail-debugger/./assets/entries/shared/utils.js","webpack://wp-mail-debugger/./assets/entries/store/actions.js","webpack://wp-mail-debugger/./assets/entries/store/reducer.js","webpack://wp-mail-debugger/./assets/entries/store/resolvers.js","webpack://wp-mail-debugger/./assets/entries/store/selectors.js","webpack://wp-mail-debugger/./node_modules/li/lib/index.js","webpack://wp-mail-debugger/./node_modules/rememo/es/rememo.js","webpack://wp-mail-debugger/external window \"lodash\"","webpack://wp-mail-debugger/external window [\"wp\",\"data\"]","webpack://wp-mail-debugger/external window [\"wp\",\"dataControls\"]","webpack://wp-mail-debugger/external window [\"wp\",\"url\"]","webpack://wp-mail-debugger/webpack/bootstrap","webpack://wp-mail-debugger/webpack/runtime/compat get default export","webpack://wp-mail-debugger/webpack/runtime/define property getters","webpack://wp-mail-debugger/webpack/runtime/hasOwnProperty shorthand","webpack://wp-mail-debugger/webpack/runtime/make namespace object","webpack://wp-mail-debugger/./assets/entries/store.js"],"sourcesContent":["export const CORE_STORE = 'wp-mail-debugger/core';\nexport const ADMIN_PAGE_STORE = 'wp-mail-debugger/admin-page';\nexport const SETTING_PREFIX = 'wp_mail_debugger_';\n","/**\n * Parses the fetch response.\n *\n * @param {Response} response The response object from apiFetch.\n * @return {{response: *, type: string}} Data control.\n */\nexport function parseFetchResponse( response ) {\n\treturn {\n\t\ttype: 'PARSE_FETCH_RESPONSE',\n\t\tresponse,\n\t};\n}\n\n/**\n * Parse the fetch response into an object with data and headers.\n *\n * @param {Response} response The response object from apiFetch.\n * @return {Promise<*>} Parsed response object.\n */\nasync function PARSE_FETCH_RESPONSE( { response } ) {\n\treturn await response.json();\n}\n\nexport default {\n\tPARSE_FETCH_RESPONSE,\n};\n","import { SETTING_PREFIX } from './constants';\n\n/**\n * Format an address.\n *\n * @param {Object} address\n * @param {string} address.email\n * @param {string} address.name\n *\n * @return {string} The formatted address.\n */\nexport function formatAddress( address ) {\n\tif ( address.name ) {\n\t\treturn address.name + ' <' + address.email + '>';\n\t}\n\n\treturn address.email;\n}\n\n/**\n * Filter the list of settings to only our settings. Stripping the prefix.\n *\n * @param {Object} settings The raw settings.\n * @return {Object} The filtered settings.\n */\nexport function filterSettings( settings ) {\n\tconst filtered = {};\n\n\tfor ( const setting in settings ) {\n\t\tif ( ! settings.hasOwnProperty( setting ) ) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tif ( setting.startsWith( SETTING_PREFIX ) ) {\n\t\t\tconst trimmed = setting.substr( SETTING_PREFIX.length );\n\n\t\t\tfiltered[ trimmed ] = settings[ setting ];\n\t\t}\n\t}\n\n\treturn filtered;\n}\n","/**\n * WordPress dependencies\n */\nimport { controls } from '@wordpress/data';\nimport { apiFetch } from '@wordpress/data-controls';\nimport { addQueryArgs, getQueryArg } from '@wordpress/url';\n\n/**\n * WordPress dependencies\n */\nimport { CORE_STORE, SETTING_PREFIX } from '../shared/constants';\nimport { parseFetchResponse } from '../shared/controls';\nimport { filterSettings } from '../shared/utils';\n\nexport function* query( queryId, queryParams ) {\n\tlet response, items;\n\n\tyield { type: START_QUERY, queryId, queryParams };\n\n\ttry {\n\t\tresponse = yield apiFetch( {\n\t\t\tpath: addQueryArgs( 'wp-mail-debugger/v1/emails', queryParams ),\n\t\t\tparse: false,\n\t\t} );\n\n\t\titems = yield parseFetchResponse( response );\n\t} catch ( error ) {\n\t\tyield { type: FAILED_QUERY, queryId, queryParams, error };\n\n\t\treturn error;\n\t}\n\n\tyield receiveQuery(\n\t\tqueryId,\n\t\tqueryParams.context || 'view',\n\t\tresponse,\n\t\titems,\n\t\t'replace'\n\t);\n\tyield { type: FINISH_QUERY, queryId, queryParams, response };\n\n\treturn response;\n}\n\nexport function* fetchQueryNextPage( queryId, mode = 'append' ) {\n\tconst link = yield controls.select(\n\t\tCORE_STORE,\n\t\t'getQueryHeaderLink',\n\t\tqueryId,\n\t\t'next'\n\t);\n\n\tif ( ! link ) {\n\t\treturn [];\n\t}\n\n\tlet response, items;\n\n\tyield { type: START_QUERY, queryId };\n\n\ttry {\n\t\tresponse = yield apiFetch( {\n\t\t\turl: link.link,\n\t\t\tparse: false,\n\t\t} );\n\t\titems = yield parseFetchResponse( response );\n\t} catch ( error ) {\n\t\tyield { type: FAILED_QUERY, queryId, error };\n\n\t\treturn error;\n\t}\n\n\tconst context = getQueryArg( link.link, 'context' ) || 'view';\n\tyield receiveQuery( queryId, context, response, items, mode );\n\tyield { type: FINISH_QUERY, queryId, response };\n\n\treturn response;\n}\n\nexport function* fetchEmail( id, context = 'view' ) {\n\tlet email;\n\n\tyield { type: START_FETCH_EMAIL, id };\n\n\ttry {\n\t\temail = yield apiFetch( {\n\t\t\tpath: `wp-mail-debugger/v1/emails/${ id }?context=${ context }`,\n\t\t} );\n\t} catch ( error ) {\n\t\tyield { type: FAILED_FETCH_EMAIL, id, error };\n\n\t\treturn error;\n\t}\n\n\tyield receiveEmail( email, context );\n\tyield { type: FINISH_FETCH_EMAIL, id, email };\n}\n\nexport function* sendEmail( id, to ) {\n\tyield { type: START_SEND_EMAIL, id };\n\n\ttry {\n\t\tyield apiFetch( {\n\t\t\tpath: `wp-mail-debugger/v1/emails/${ id }/send`,\n\t\t\tmethod: 'POST',\n\t\t\tdata: { to },\n\t\t} );\n\t} catch ( error ) {\n\t\tyield { type: FAILED_SEND_EMAIL, id, error };\n\n\t\treturn error;\n\t}\n\n\tyield { type: FINISH_SEND_EMAIL, id };\n\tyield controls.dispatch( CORE_STORE, 'query', 'main', {\n\t\tcontext: 'embed',\n\t} );\n}\n\nexport function* deleteEmail( id ) {\n\tyield { type: START_DELETE_EMAIL, id };\n\n\ttry {\n\t\tyield apiFetch( {\n\t\t\tpath: `wp-mail-debugger/v1/emails/${ id }`,\n\t\t\tmethod: 'DELETE',\n\t\t} );\n\t} catch ( error ) {\n\t\tyield { type: FAILED_DELETE_EMAIL, error };\n\n\t\treturn error;\n\t}\n\n\tyield { type: FINISH_DELETE_EMAIL, id };\n}\n\nexport function* emptyInbox() {\n\tyield { type: START_EMPTY_INBOX };\n\n\ttry {\n\t\tyield apiFetch( {\n\t\t\tpath: 'wp-mail-debugger/v1/emails',\n\t\t\tmethod: 'DELETE',\n\t\t} );\n\t} catch ( error ) {\n\t\tyield { type: FAILED_EMPTY_INBOX, error };\n\n\t\treturn error;\n\t}\n\n\tyield { type: FINISH_EMPTY_INBOX };\n}\n\nexport function* updateSetting( setting, value ) {\n\tconst settings = yield apiFetch( {\n\t\tpath: 'wp/v2/settings',\n\t\tmethod: 'PUT',\n\t\tdata: {\n\t\t\t[ SETTING_PREFIX + setting ]: value,\n\t\t},\n\t} );\n\n\tconst filtered = filterSettings( settings );\n\tyield receiveSettings( filtered );\n}\n\nexport function receiveQuery( queryId, context, response, items, mode ) {\n\treturn {\n\t\ttype: RECEIVE_QUERY,\n\t\tqueryId,\n\t\tcontext,\n\t\tresponse,\n\t\titems,\n\t\tmode,\n\t};\n}\n\nexport function receiveEmail( email, context ) {\n\treturn {\n\t\ttype: RECEIVE_EMAIL,\n\t\temail,\n\t\tcontext,\n\t};\n}\n\nexport function receiveSettings( settings ) {\n\treturn {\n\t\ttype: RECEIVE_SETTINGS,\n\t\tsettings,\n\t};\n}\n\nexport const RECEIVE_QUERY = 'RECEIVE_QUERY';\nexport const RECEIVE_EMAIL = 'RECEIVE_EMAIL';\nexport const RECEIVE_SETTINGS = 'RECEIVE_SETTINGS';\n\nexport const START_QUERY = 'START_QUERY';\nexport const FINISH_QUERY = 'FINISH_QUERY';\nexport const FAILED_QUERY = 'FAILED_QUERY';\n\nexport const START_DELETE_EMAIL = 'START_DELETE_EMAIL';\nexport const FINISH_DELETE_EMAIL = 'FINISH_DELETE_EMAIL';\nexport const FAILED_DELETE_EMAIL = 'FAILED_DELETE_EMAIL';\n\nexport const START_EMPTY_INBOX = 'START_EMPTY_INBOX';\nexport const FINISH_EMPTY_INBOX = 'FINISH_EMPTY_INBOX';\nexport const FAILED_EMPTY_INBOX = 'FAILED_EMPTY_INBOX';\n\nexport const START_FETCH_EMAIL = 'START_FETCH_EMAIL';\nexport const FINISH_FETCH_EMAIL = 'FINISH_FETCH_EMAIL';\nexport const FAILED_FETCH_EMAIL = 'FAILED_FETCH_EMAIL';\n\nexport const START_SEND_EMAIL = 'START_SEND_EMAIL';\nexport const FINISH_SEND_EMAIL = 'FINISH_SEND_EMAIL';\nexport const FAILED_SEND_EMAIL = 'FAILED_SEND_EMAIL';\n","/**\n * External dependencies\n */\nimport { get, map, fromPairs, omit } from 'lodash';\nimport { parse } from 'li';\n\n/**\n * Internal dependencies\n */\nimport {\n\tSTART_QUERY,\n\tFINISH_QUERY,\n\tFAILED_QUERY,\n\tSTART_FETCH_EMAIL,\n\tFINISH_FETCH_EMAIL,\n\tFAILED_FETCH_EMAIL,\n\tSTART_EMPTY_INBOX,\n\tFINISH_EMPTY_INBOX,\n\tFAILED_EMPTY_INBOX,\n\tSTART_DELETE_EMAIL,\n\tFINISH_DELETE_EMAIL,\n\tFAILED_DELETE_EMAIL,\n\tRECEIVE_EMAIL,\n\tRECEIVE_QUERY,\n\tRECEIVE_SETTINGS,\n\tSTART_SEND_EMAIL,\n\tFINISH_SEND_EMAIL,\n\tFAILED_SEND_EMAIL,\n} from './actions';\n\nconst DEFAULT_STATE = {\n\t// Object of email ids to their full object\n\tbyId: {},\n\t// Query details\n\tqueries: {},\n\t// List of query ids being queried\n\tquerying: [],\n\t// List of email ids of items that are being fetched\n\tfetching: [],\n\t// List of email ids of items that are being deleted\n\tdeleting: [],\n\t// List of email ids of items that are being sent\n\tsending: [],\n\t// Is the inbox currently being updated\n\temptyingInbox: false,\n\t// Settings object\n\tsettings: {},\n};\n\nexport default function reducer( state = DEFAULT_STATE, action ) {\n\tswitch ( action.type ) {\n\t\tcase RECEIVE_QUERY:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tqueries: {\n\t\t\t\t\t...state.queries,\n\t\t\t\t\t[ action.queryId ]: {\n\t\t\t\t\t\tids:\n\t\t\t\t\t\t\taction.mode === 'replace'\n\t\t\t\t\t\t\t\t? map( action.items, 'uuid' )\n\t\t\t\t\t\t\t\t: [\n\t\t\t\t\t\t\t\t\t\t...get(\n\t\t\t\t\t\t\t\t\t\t\tstate,\n\t\t\t\t\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t\t\t\t\t'queries',\n\t\t\t\t\t\t\t\t\t\t\t\taction.queryId,\n\t\t\t\t\t\t\t\t\t\t\t\t'ids',\n\t\t\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\t\t\t[]\n\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t...map( action.items, 'uuid' ),\n\t\t\t\t\t\t\t\t  ],\n\t\t\t\t\t\theaders: fromPairs(\n\t\t\t\t\t\t\tArray.from( action.response.headers.entries() )\n\t\t\t\t\t\t),\n\t\t\t\t\t\tlinks: parse( action.response.headers.get( 'link' ), {\n\t\t\t\t\t\t\textended: true,\n\t\t\t\t\t\t} ).map( ( link ) => ( {\n\t\t\t\t\t\t\t...link,\n\t\t\t\t\t\t\trel: link.rel[ 0 ],\n\t\t\t\t\t\t} ) ),\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tbyId: {\n\t\t\t\t\t...state.byId,\n\t\t\t\t\t...fromPairs(\n\t\t\t\t\t\taction.items\n\t\t\t\t\t\t\t.filter( ( { uuid } ) => {\n\t\t\t\t\t\t\t\tif ( ! state.byId[ uuid ] ) {\n\t\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\tstate.byId[ uuid ].context === 'embed' ||\n\t\t\t\t\t\t\t\t\tstate.byId[ uuid ].context ===\n\t\t\t\t\t\t\t\t\t\taction.context\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t} )\n\t\t\t\t\t\t\t.map( ( email ) => [\n\t\t\t\t\t\t\t\temail.uuid,\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tcontext: action.context,\n\t\t\t\t\t\t\t\t\temail,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t] )\n\t\t\t\t\t),\n\t\t\t\t},\n\t\t\t};\n\t\tcase START_QUERY:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tquerying: [ ...state.querying, action.queryId ],\n\t\t\t};\n\t\tcase FINISH_QUERY:\n\t\tcase FAILED_QUERY:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tquerying: state.querying.filter(\n\t\t\t\t\t( queryId ) => queryId !== action.queryId\n\t\t\t\t),\n\t\t\t};\n\t\tcase RECEIVE_EMAIL:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tbyId: {\n\t\t\t\t\t...state.byId,\n\t\t\t\t\t[ action.email.uuid ]: {\n\t\t\t\t\t\tcontext: action.context,\n\t\t\t\t\t\temail: action.email,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t};\n\t\tcase START_FETCH_EMAIL:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tfetching: [ ...state.fetching, action.id ],\n\t\t\t};\n\t\tcase FINISH_FETCH_EMAIL:\n\t\tcase FAILED_FETCH_EMAIL:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tfetching: state.fetching.filter( ( id ) => id !== action.id ),\n\t\t\t};\n\t\tcase START_SEND_EMAIL:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tsending: [ ...state.sending, action.id ],\n\t\t\t};\n\t\tcase FINISH_SEND_EMAIL:\n\t\tcase FAILED_SEND_EMAIL:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tsending: state.sending.filter( ( id ) => id !== action.id ),\n\t\t\t};\n\t\tcase START_DELETE_EMAIL:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tdeleting: [ ...state.deleting, action.id ],\n\t\t\t};\n\t\tcase FINISH_DELETE_EMAIL:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tdeleting: state.deleting.filter( ( id ) => id !== action.id ),\n\t\t\t\tbyId: omit( state.byId, [ action.id ] ),\n\t\t\t};\n\t\tcase FAILED_DELETE_EMAIL:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tdeleting: state.deleting.filter( ( id ) => id !== action.id ),\n\t\t\t};\n\t\tcase START_EMPTY_INBOX:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\temptyingInbox: true,\n\t\t\t};\n\t\tcase FINISH_EMPTY_INBOX:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\temptyingInbox: false,\n\t\t\t\tqueries: {},\n\t\t\t\tbyId: {},\n\t\t\t};\n\t\tcase FAILED_EMPTY_INBOX:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\temptyingInbox: false,\n\t\t\t};\n\t\tcase RECEIVE_SETTINGS:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tsettings: {\n\t\t\t\t\t...action.settings,\n\t\t\t\t},\n\t\t\t};\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n","import { isEmpty } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { apiFetch } from '@wordpress/data-controls';\n\n/**\n * Internal dependencies\n */\nimport { fetchEmail, receiveSettings } from './actions';\nimport { getEmail as getEmailSelector } from './selectors';\nimport { filterSettings } from '../shared/utils';\n\nexport const getEmail = {\n\t*fulfill( id, context = 'view' ) {\n\t\tyield* fetchEmail( id, context );\n\t},\n\tisFulfilled( state, id, context = 'view' ) {\n\t\treturn !! getEmailSelector( state, id, context );\n\t},\n};\n\nexport const getSettings = {\n\t*fulfill() {\n\t\tconst settings = yield apiFetch( {\n\t\t\tpath: 'wp/v2/settings',\n\t\t} );\n\t\tconst filtered = filterSettings( settings );\n\n\t\tyield receiveSettings( filtered );\n\t},\n\tisFulfilled( state ) {\n\t\treturn ! isEmpty( state.settings );\n\t},\n};\n","/**\n * External dependencies\n */\nimport createSelector from 'rememo';\nimport { get, find } from 'lodash';\n\n/**\n * Gets the items returned by a query.\n *\n * @param {Object} state   State object.\n * @param {string} queryId Query id.\n * @return {Array<Object>}\n */\nexport const getQueryResults = createSelector(\n\t( state, queryId ) => {\n\t\tconst ids = get( state, [ 'queries', queryId, 'ids' ], [] );\n\t\tconst byId = state.byId;\n\n\t\tconst length = ids.length;\n\t\tconst items = new Array( length );\n\t\tlet index = -1;\n\n\t\twhile ( ++index < length ) {\n\t\t\tconst entry = byId[ ids[ index ] ];\n\n\t\t\tif ( entry ) {\n\t\t\t\titems[ index ] = entry.email;\n\t\t\t}\n\t\t}\n\n\t\treturn items;\n\t},\n\t( state, queryId ) => [ state.queries[ queryId ], state.byId ]\n);\n\n/**\n * Gets the link header from a query result.\n *\n * @param {Object} state   State object.\n * @param {string} queryId Query id.\n * @param {string} rel     Rel to search for.\n * @return {{link: string, rel: string}} Link object or undefined if not found.\n */\nexport function getQueryHeaderLink( state, queryId, rel ) {\n\treturn find( get( state, [ 'queries', queryId, 'links' ], [] ), { rel } );\n}\n\n/**\n * Get a response header from a query.\n *\n * @param {Object} state   State object.\n * @param {string} queryId Query id.\n * @param {string} header  Normalized header name.\n * @return {string|undefined} The header value, or undefined if it does not exist.\n */\nexport function getQueryHeader( state, queryId, header ) {\n\treturn get( state, [ 'queries', queryId, 'headers', header ] );\n}\n\n/**\n * Get an email object.\n *\n * @param {Object} state   The state object.\n * @param {string} id      The email id.\n * @param {string} context The context to request the item with. Defaults to view.\n * @return {Object|undefined} The email object or undefined if it could not be found.\n */\nexport function getEmail( state, id, context = 'view' ) {\n\tconst entry = state.byId[ id ];\n\n\tif ( ! entry || entry.context !== context ) {\n\t\treturn undefined;\n\t}\n\n\treturn entry.email;\n}\n\n/**\n * Get the plugin's settings.\n *\n * @param {Object} state The state object.\n * @return {Object} The settings object.\n */\nexport function getSettings( state ) {\n\treturn state.settings;\n}\n\n/**\n * Checks if a query is in progress.\n *\n * @param {Object} state   The state object.\n * @param {string} queryId The query id.\n * @return {boolean} Whether the query is in progress.\n */\nexport function isQuerying( state, queryId ) {\n\treturn state.querying.includes( queryId );\n}\n\n/**\n * Checks if an email is being fetched.\n *\n * @param {Object} state The state object.\n * @param {string} id    The email id.\n * @return {boolean} Whether the query is in progress.\n */\nexport function isFetching( state, id ) {\n\treturn state.fetching.includes( id );\n}\n\n/**\n * Checks if an email is being sent.\n * @param {Object} state The state object.\n * @param {string} id    The email id\n * @return {boolean} Whether the email is being sent.\n */\nexport function isSending( state, id ) {\n\treturn state.sending.includes( id );\n}\n\n/**\n * Checks if an email is being deleted.\n *\n * @param {Object} state The state object.\n * @param {string} id    The email id.\n * @return {boolean} Whether the query is in progress.\n */\nexport function isDeleting( state, id ) {\n\treturn state.deleting.includes( id );\n}\n\n/**\n * Checks if the inbox is being emptied.\n *\n * @param {Object} state The state object.\n * @return {boolean} Whether the query is in progress.\n */\nexport function isEmptyingInbox( state ) {\n\treturn state.emptyingInbox;\n}\n","(function (name, definition, context) {\n\n  //try CommonJS, then AMD (require.js), then use global.\n\n  if (typeof module != 'undefined' && module.exports) module.exports = definition();\n  else if (typeof context['define'] == 'function' && context['define']['amd']) define(definition);\n  else context[name] = definition();\n\n})('li', function () {\n  // compile regular expressions ahead of time for efficiency\n  var relsRegExp = /^;\\s*([^\"=]+)=(?:\"([^\"]+)\"|([^\";,]+)(?:[;,]|$))/;\n  var sourceRegExp = /^<([^>]*)>/;\n  var delimiterRegExp = /^\\s*,\\s*/;\n\n  return {\n    parse: function (linksHeader, options) {\n      var match;\n      var source;\n      var rels;\n      var extended = options && options.extended || false;\n      var links = [];\n\n      while (linksHeader) {\n        linksHeader = linksHeader.trim();\n\n        // Parse `<link>`\n        source = sourceRegExp.exec(linksHeader);\n        if (!source) break;\n\n        var current = {\n          link: source[1]\n        };\n\n        // Move cursor\n        linksHeader = linksHeader.slice(source[0].length);\n\n        // Parse `; attr=relation` and `; attr=\"relation\"`\n\n        var nextDelimiter = linksHeader.match(delimiterRegExp);\n        while(linksHeader && (!nextDelimiter || nextDelimiter.index > 0)) {\n          match = relsRegExp.exec(linksHeader);\n          if (!match) break;\n\n          // Move cursor\n          linksHeader = linksHeader.slice(match[0].length);\n          nextDelimiter = linksHeader.match(delimiterRegExp);\n\n\n          if (match[1] === 'rel' || match[1] === 'rev') {\n            // Add either quoted rel or unquoted rel\n            rels = (match[2] || match[3]).split(/\\s+/);\n            current[match[1]] = rels;\n          } else {\n            current[match[1]] = match[2] || match[3];\n          }\n        }\n\n        links.push(current);\n        // Move cursor\n        linksHeader = linksHeader.replace(delimiterRegExp, '');\n      }\n\n      if (!extended) {\n        return links.reduce(function(result, currentLink) {\n          if (currentLink.rel) {\n            currentLink.rel.forEach(function(rel) {\n              result[rel] = currentLink.link;\n            });\n          }\n          return result;\n        }, {});\n      }\n\n      return links;\n    },\n    stringify: function (params) {\n      var grouped = Object.keys(params).reduce(function(grouped, key) {\n        grouped[params[key]] = grouped[params[key]] || [];\n        grouped[params[key]].push(key);\n        return grouped;\n      }, {});\n\n      var entries = Object.keys(grouped).reduce(function(result, link) {\n        return result.concat('<' + link + '>; rel=\"' + grouped[link].join(' ') + '\"');\n      }, []);\n\n      return entries.join(', ');\n    }\n  };\n\n}, this);\n","'use strict';\n\nvar LEAF_KEY, hasWeakMap;\n\n/**\n * Arbitrary value used as key for referencing cache object in WeakMap tree.\n *\n * @type {Object}\n */\nLEAF_KEY = {};\n\n/**\n * Whether environment supports WeakMap.\n *\n * @type {boolean}\n */\nhasWeakMap = typeof WeakMap !== 'undefined';\n\n/**\n * Returns the first argument as the sole entry in an array.\n *\n * @param {*} value Value to return.\n *\n * @return {Array} Value returned as entry in array.\n */\nfunction arrayOf( value ) {\n\treturn [ value ];\n}\n\n/**\n * Returns true if the value passed is object-like, or false otherwise. A value\n * is object-like if it can support property assignment, e.g. object or array.\n *\n * @param {*} value Value to test.\n *\n * @return {boolean} Whether value is object-like.\n */\nfunction isObjectLike( value ) {\n\treturn !! value && 'object' === typeof value;\n}\n\n/**\n * Creates and returns a new cache object.\n *\n * @return {Object} Cache object.\n */\nfunction createCache() {\n\tvar cache = {\n\t\tclear: function() {\n\t\t\tcache.head = null;\n\t\t},\n\t};\n\n\treturn cache;\n}\n\n/**\n * Returns true if entries within the two arrays are strictly equal by\n * reference from a starting index.\n *\n * @param {Array}  a         First array.\n * @param {Array}  b         Second array.\n * @param {number} fromIndex Index from which to start comparison.\n *\n * @return {boolean} Whether arrays are shallowly equal.\n */\nfunction isShallowEqual( a, b, fromIndex ) {\n\tvar i;\n\n\tif ( a.length !== b.length ) {\n\t\treturn false;\n\t}\n\n\tfor ( i = fromIndex; i < a.length; i++ ) {\n\t\tif ( a[ i ] !== b[ i ] ) {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\treturn true;\n}\n\n/**\n * Returns a memoized selector function. The getDependants function argument is\n * called before the memoized selector and is expected to return an immutable\n * reference or array of references on which the selector depends for computing\n * its own return value. The memoize cache is preserved only as long as those\n * dependant references remain the same. If getDependants returns a different\n * reference(s), the cache is cleared and the selector value regenerated.\n *\n * @param {Function} selector      Selector function.\n * @param {Function} getDependants Dependant getter returning an immutable\n *                                 reference or array of reference used in\n *                                 cache bust consideration.\n *\n * @return {Function} Memoized selector.\n */\nexport default function( selector, getDependants ) {\n\tvar rootCache, getCache;\n\n\t// Use object source as dependant if getter not provided\n\tif ( ! getDependants ) {\n\t\tgetDependants = arrayOf;\n\t}\n\n\t/**\n\t * Returns the root cache. If WeakMap is supported, this is assigned to the\n\t * root WeakMap cache set, otherwise it is a shared instance of the default\n\t * cache object.\n\t *\n\t * @return {(WeakMap|Object)} Root cache object.\n\t */\n\tfunction getRootCache() {\n\t\treturn rootCache;\n\t}\n\n\t/**\n\t * Returns the cache for a given dependants array. When possible, a WeakMap\n\t * will be used to create a unique cache for each set of dependants. This\n\t * is feasible due to the nature of WeakMap in allowing garbage collection\n\t * to occur on entries where the key object is no longer referenced. Since\n\t * WeakMap requires the key to be an object, this is only possible when the\n\t * dependant is object-like. The root cache is created as a hierarchy where\n\t * each top-level key is the first entry in a dependants set, the value a\n\t * WeakMap where each key is the next dependant, and so on. This continues\n\t * so long as the dependants are object-like. If no dependants are object-\n\t * like, then the cache is shared across all invocations.\n\t *\n\t * @see isObjectLike\n\t *\n\t * @param {Array} dependants Selector dependants.\n\t *\n\t * @return {Object} Cache object.\n\t */\n\tfunction getWeakMapCache( dependants ) {\n\t\tvar caches = rootCache,\n\t\t\tisUniqueByDependants = true,\n\t\t\ti, dependant, map, cache;\n\n\t\tfor ( i = 0; i < dependants.length; i++ ) {\n\t\t\tdependant = dependants[ i ];\n\n\t\t\t// Can only compose WeakMap from object-like key.\n\t\t\tif ( ! isObjectLike( dependant ) ) {\n\t\t\t\tisUniqueByDependants = false;\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\t// Does current segment of cache already have a WeakMap?\n\t\t\tif ( caches.has( dependant ) ) {\n\t\t\t\t// Traverse into nested WeakMap.\n\t\t\t\tcaches = caches.get( dependant );\n\t\t\t} else {\n\t\t\t\t// Create, set, and traverse into a new one.\n\t\t\t\tmap = new WeakMap();\n\t\t\t\tcaches.set( dependant, map );\n\t\t\t\tcaches = map;\n\t\t\t}\n\t\t}\n\n\t\t// We use an arbitrary (but consistent) object as key for the last item\n\t\t// in the WeakMap to serve as our running cache.\n\t\tif ( ! caches.has( LEAF_KEY ) ) {\n\t\t\tcache = createCache();\n\t\t\tcache.isUniqueByDependants = isUniqueByDependants;\n\t\t\tcaches.set( LEAF_KEY, cache );\n\t\t}\n\n\t\treturn caches.get( LEAF_KEY );\n\t}\n\n\t// Assign cache handler by availability of WeakMap\n\tgetCache = hasWeakMap ? getWeakMapCache : getRootCache;\n\n\t/**\n\t * Resets root memoization cache.\n\t */\n\tfunction clear() {\n\t\trootCache = hasWeakMap ? new WeakMap() : createCache();\n\t}\n\n\t// eslint-disable-next-line jsdoc/check-param-names\n\t/**\n\t * The augmented selector call, considering first whether dependants have\n\t * changed before passing it to underlying memoize function.\n\t *\n\t * @param {Object} source    Source object for derivation.\n\t * @param {...*}   extraArgs Additional arguments to pass to selector.\n\t *\n\t * @return {*} Selector result.\n\t */\n\tfunction callSelector( /* source, ...extraArgs */ ) {\n\t\tvar len = arguments.length,\n\t\t\tcache, node, i, args, dependants;\n\n\t\t// Create copy of arguments (avoid leaking deoptimization).\n\t\targs = new Array( len );\n\t\tfor ( i = 0; i < len; i++ ) {\n\t\t\targs[ i ] = arguments[ i ];\n\t\t}\n\n\t\tdependants = getDependants.apply( null, args );\n\t\tcache = getCache( dependants );\n\n\t\t// If not guaranteed uniqueness by dependants (primitive type or lack\n\t\t// of WeakMap support), shallow compare against last dependants and, if\n\t\t// references have changed, destroy cache to recalculate result.\n\t\tif ( ! cache.isUniqueByDependants ) {\n\t\t\tif ( cache.lastDependants && ! isShallowEqual( dependants, cache.lastDependants, 0 ) ) {\n\t\t\t\tcache.clear();\n\t\t\t}\n\n\t\t\tcache.lastDependants = dependants;\n\t\t}\n\n\t\tnode = cache.head;\n\t\twhile ( node ) {\n\t\t\t// Check whether node arguments match arguments\n\t\t\tif ( ! isShallowEqual( node.args, args, 1 ) ) {\n\t\t\t\tnode = node.next;\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// At this point we can assume we've found a match\n\n\t\t\t// Surface matched node to head if not already\n\t\t\tif ( node !== cache.head ) {\n\t\t\t\t// Adjust siblings to point to each other.\n\t\t\t\tnode.prev.next = node.next;\n\t\t\t\tif ( node.next ) {\n\t\t\t\t\tnode.next.prev = node.prev;\n\t\t\t\t}\n\n\t\t\t\tnode.next = cache.head;\n\t\t\t\tnode.prev = null;\n\t\t\t\tcache.head.prev = node;\n\t\t\t\tcache.head = node;\n\t\t\t}\n\n\t\t\t// Return immediately\n\t\t\treturn node.val;\n\t\t}\n\n\t\t// No cached value found. Continue to insertion phase:\n\n\t\tnode = {\n\t\t\t// Generate the result from original function\n\t\t\tval: selector.apply( null, args ),\n\t\t};\n\n\t\t// Avoid including the source object in the cache.\n\t\targs[ 0 ] = null;\n\t\tnode.args = args;\n\n\t\t// Don't need to check whether node is already head, since it would\n\t\t// have been returned above already if it was\n\n\t\t// Shift existing head down list\n\t\tif ( cache.head ) {\n\t\t\tcache.head.prev = node;\n\t\t\tnode.next = cache.head;\n\t\t}\n\n\t\tcache.head = node;\n\n\t\treturn node.val;\n\t}\n\n\tcallSelector.getDependants = getDependants;\n\tcallSelector.clear = clear;\n\tclear();\n\n\treturn callSelector;\n}\n","module.exports = window[\"lodash\"];","module.exports = window[\"wp\"][\"data\"];","module.exports = window[\"wp\"][\"dataControls\"];","module.exports = window[\"wp\"][\"url\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/**\n * WordPress dependencies\n */\nimport { register, createReduxStore } from '@wordpress/data';\nimport { controls as dataControls } from '@wordpress/data-controls';\n\n/**\n * Internal dependencies\n */\nimport reducer from './store/reducer';\nimport controls from './shared/controls';\nimport * as actions from './store/actions';\nimport * as selectors from './store/selectors';\nimport * as resolvers from './store/resolvers';\nimport { CORE_STORE } from './shared/constants';\n\nregister(\n\tcreateReduxStore( CORE_STORE, {\n\t\tcontrols: {\n\t\t\t...controls,\n\t\t\t...dataControls,\n\t\t},\n\t\tactions,\n\t\tselectors,\n\t\tresolvers,\n\t\treducer,\n\t} )\n);\n"],"names":["CORE_STORE","ADMIN_PAGE_STORE","SETTING_PREFIX","parseFetchResponse","response","type","PARSE_FETCH_RESPONSE","json","formatAddress","address","name","email","filterSettings","settings","filtered","setting","hasOwnProperty","startsWith","trimmed","substr","length","controls","apiFetch","addQueryArgs","getQueryArg","query","queryId","queryParams","items","START_QUERY","path","parse","error","FAILED_QUERY","receiveQuery","context","FINISH_QUERY","fetchQueryNextPage","mode","link","select","url","fetchEmail","id","START_FETCH_EMAIL","FAILED_FETCH_EMAIL","receiveEmail","FINISH_FETCH_EMAIL","sendEmail","to","START_SEND_EMAIL","method","data","FAILED_SEND_EMAIL","FINISH_SEND_EMAIL","dispatch","deleteEmail","START_DELETE_EMAIL","FAILED_DELETE_EMAIL","FINISH_DELETE_EMAIL","emptyInbox","START_EMPTY_INBOX","FAILED_EMPTY_INBOX","FINISH_EMPTY_INBOX","updateSetting","value","receiveSettings","RECEIVE_QUERY","RECEIVE_EMAIL","RECEIVE_SETTINGS","get","map","fromPairs","omit","DEFAULT_STATE","byId","queries","querying","fetching","deleting","sending","emptyingInbox","reducer","state","action","ids","headers","Array","from","entries","links","extended","rel","filter","uuid","isEmpty","getEmail","getEmailSelector","fulfill","isFulfilled","getSettings","createSelector","find","getQueryResults","index","entry","getQueryHeaderLink","getQueryHeader","header","undefined","isQuerying","includes","isFetching","isSending","isDeleting","isEmptyingInbox","register","createReduxStore","dataControls","actions","selectors","resolvers"],"sourceRoot":""}